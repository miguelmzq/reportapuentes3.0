{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReportaPuentesStats=_ref=>{let{reports}=_ref;// Opciones de problemas para asegurar que todos aparezcan, incluso con 0 reportes\nconst problemOptions=[\"Barandas rotas\",\"Pisos oxidados\",\"Presencia de basura\",\"Grafitis ofensivos\",\"Señalización desgastada\",\"Grietas o filtraciones\",\"Otro\"];// Contar problemas por tipo\nconst problemCounts=reports.reduce((acc,report)=>{report.problems.forEach(problem=>{acc[problem]=(acc[problem]||0)+1;});if(report.otherProblem&&report.otherProblem.trim()!==''){acc['Otro']=(acc['Otro']||0)+1;}return acc;},{});// Datos para el gráfico de barras de problemas\nconst problemBarChartData=problemOptions.map(problem=>({problem,count:problemCounts[problem]||0}));const totalReports=reports.length;const maxProblemCount=Math.max(...problemBarChartData.map(data=>data.count),1);// Colores para las barras\nconst colors=['#36A2EB','#FF6384','#FFCE56','#4BC0C0','#9966FF','#FF9F40','#8A2BE2','#7FFF00'];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white rounded-lg shadow-xl max-w-2xl mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-6\",children:\"Estad\\xEDsticas de Reportes\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-4\",children:\"Total de Reportes Enviados:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-32 text-gray-700 text-sm font-medium flex-shrink-0\",children:\"Reportes:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow bg-gray-200 rounded-full h-8 relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-500 ease-out bg-blue-600\",style:{width:\"\".concat(totalReports/(totalReports>0?totalReports:1)*100,\"%\")}}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute right-2 top-1/2 -translate-y-1/2 text-sm font-bold text-white\",children:totalReports})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-4\",children:\"Reportes por Tipo de Problema:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:problemBarChartData.map((data,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"w-32 text-gray-700 text-sm font-medium flex-shrink-0\",children:[data.problem,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow bg-gray-200 rounded-full h-6 relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-500 ease-out\",style:{width:\"\".concat(data.count/maxProblemCount*100,\"%\"),backgroundColor:colors[index%colors.length]}}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-800\",children:data.count})]})]},data.problem))}),totalReports===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center mt-8\",children:\"A\\xFAn no hay reportes para mostrar estad\\xEDsticas.\"})]});};export default ReportaPuentesStats;// DONE","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ReportaPuentesStats","_ref","reports","problemOptions","problemCounts","reduce","acc","report","problems","forEach","problem","otherProblem","trim","problemBarChartData","map","count","totalReports","length","maxProblemCount","Math","max","data","colors","className","children","style","width","concat","index","backgroundColor"],"sources":["C:/Users/migue/Downloads/project (4)/src/components/ReportaPuentesStats.js"],"sourcesContent":["import React from 'react';\n\nconst ReportaPuentesStats = ({ reports }) => {\n  // Opciones de problemas para asegurar que todos aparezcan, incluso con 0 reportes\n  const problemOptions = [\n    \"Barandas rotas\",\n    \"Pisos oxidados\",\n    \"Presencia de basura\",\n    \"Grafitis ofensivos\",\n    \"Señalización desgastada\",\n    \"Grietas o filtraciones\",\n    \"Otro\"\n  ];\n\n  // Contar problemas por tipo\n  const problemCounts = reports.reduce((acc, report) => {\n    report.problems.forEach(problem => {\n      acc[problem] = (acc[problem] || 0) + 1;\n    });\n    if (report.otherProblem && report.otherProblem.trim() !== '') {\n      acc['Otro'] = (acc['Otro'] || 0) + 1;\n    }\n    return acc;\n  }, {});\n\n  // Datos para el gráfico de barras de problemas\n  const problemBarChartData = problemOptions.map(problem => ({\n    problem,\n    count: problemCounts[problem] || 0,\n  }));\n\n  const totalReports = reports.length;\n  const maxProblemCount = Math.max(...problemBarChartData.map(data => data.count), 1);\n\n  // Colores para las barras\n  const colors = [\n    '#36A2EB', '#FF6384', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#8A2BE2', '#7FFF00'\n  ];\n\n  return (\n    <div className=\"p-6 bg-white rounded-lg shadow-xl max-w-2xl mx-auto my-8\">\n      <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">Estadísticas de Reportes</h2>\n      \n      {/* Gráfico de Total de Reportes */}\n      <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Total de Reportes Enviados:</h3>\n      <div className=\"flex items-center mb-8\">\n        <span className=\"w-32 text-gray-700 text-sm font-medium flex-shrink-0\">Reportes:</span>\n        <div className=\"flex-grow bg-gray-200 rounded-full h-8 relative overflow-hidden\">\n          <div\n            className=\"h-full rounded-full transition-all duration-500 ease-out bg-blue-600\"\n            style={{ width: `${(totalReports / (totalReports > 0 ? totalReports : 1)) * 100}%` }}\n          ></div>\n          <span className=\"absolute right-2 top-1/2 -translate-y-1/2 text-sm font-bold text-white\">\n            {totalReports}\n          </span>\n        </div>\n      </div>\n\n      {/* Gráfico de Barras de Reportes por Tipo de Problema */}\n      <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Reportes por Tipo de Problema:</h3>\n      <div className=\"space-y-4\">\n        {problemBarChartData.map((data, index) => (\n          <div key={data.problem} className=\"flex items-center\">\n            <span className=\"w-32 text-gray-700 text-sm font-medium flex-shrink-0\">{data.problem}:</span>\n            <div className=\"flex-grow bg-gray-200 rounded-full h-6 relative overflow-hidden\">\n              <div\n                className=\"h-full rounded-full transition-all duration-500 ease-out\"\n                style={{\n                  width: `${(data.count / maxProblemCount) * 100}%`,\n                  backgroundColor: colors[index % colors.length],\n                }}\n              ></div>\n              <span className=\"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-bold text-gray-800\">\n                {data.count}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {totalReports === 0 && (\n        <p className=\"text-gray-600 text-center mt-8\">Aún no hay reportes para mostrar estadísticas.</p>\n      )}\n    </div>\n  );\n};\n\nexport default ReportaPuentesStats;\n\n// DONE"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}